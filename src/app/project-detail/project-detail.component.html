<div class="content-container">
  <script src="node_modules/chart.js/src/chart.js"></script>
  <!-- panels for different parts of project-->
  <mat-accordion multi="false" class="example-headers-align">
    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Daten
        </mat-panel-title>
        <mat-panel-description>
          Kopfdaten des Projektes
          <mat-icon>work</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <table class="mat-table">
        <thead>
          <tr class="mat-header-row">
            <th class="mat-header-cell">Name</th>
            <th class="mat-header-cell">Beschreibung</th>
            <th class="mat-header-cell">Basisjahr</th>
            <th class="mat-header-cell">Perioden</th>
          </tr>
        </thead>
        <tbody>
          <tr class="mat-row">
            <td class="mat-cell">{{(forProject$ | async)?.name}}</td>
            <td class="mat-cell">{{(forProject$ | async)?.description}}</td>
            <td class="mat-cell">{{(forProject$ | async)?.baseYear}}</td>
            <td class="mat-cell">{{(forProject$ | async)?.prognosisLength}}</td>
          </tr>
        </tbody>
      </table>

      <mat-action-row>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Cashflows
        </mat-panel-title>
        <mat-panel-description>
          Details für Cashflowberechnung
          <mat-icon>euro_symbol</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <table mat-table [dataSource]="(forProject$ | async)?.timeSeries">
        <ng-container matColumnDef="year">
          <th mat-header-cell *matHeaderCellDef> Jahr </th>
          <td mat-cell *matCellDef="let row"> {{row.year}} </td>
        </ng-container>
        <ng-container matColumnDef="externalCapital">
          <th mat-header-cell *matHeaderCellDef> Fremdkapital </th>
          <td mat-cell *matCellDef="let row"> {{row.externalCapital}} </td>
        </ng-container>
        <ng-container matColumnDef="fcf">
          <th mat-header-cell *matHeaderCellDef> Free Cashflow </th>
          <td mat-cell *matCellDef="let row"> {{row.fcf}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="timeSeriesColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: timeSeriesColumns"></tr>
      </table>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Panel for Comparison-->
    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Auswertung
        </mat-panel-title>
        <mat-panel-description>
          Vergleich der Szenarien
          <mat-icon>bar_chart</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>Vergleich hier einfügen</p>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">End</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
</div>
